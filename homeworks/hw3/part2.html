<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Homework 3 Part 2 - Salesperson Earnings Calculator">
    <title>JavaScript - Homework #3 - Page 2</title>
    <link rel="stylesheet" href="../../styles.css">
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.13.2/themes/ui-lightness/jquery-ui.css">
</head>
<body>
    <h2>Salesperson Earnings Calculator</h2>
    <form id="earningsForm" onsubmit="return false;">
        <label for="sellerName">Seller's Name:</label>
        <input type="text" id="sellerName" title="Please make sure that the salesperson's name is spelled correctly">
        <br><br>
        <p><strong>For each item type the quantity sold by the seller</strong></p>
        <label for="item1">Item 1:</label>
        <input type="number" id="item1" min="0" step="1">
        <br><br>
        <label for="item2">Item 2:</label>
        <input type="number" id="item2" min="0" step="1">
        <br><br>
        <label for="item3">Item 3:</label>
        <input type="number" id="item3" min="0" step="1">
        <br><br>
        <label for="item4">Item 4:</label>
        <input type="number" id="item4" min="0" step="1">
        <br><br>
        <button id="calculateBtn" type="button">Submit</button>
        <button id="clearBtn" type="button">Clear Form</button>
        <br><br>
        <table>
            <thead>
                <tr>
                    <th>Item#</th>
                    <th>Price</th>
                    <th>Qty Sold</th>
                    <th>Total $</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1</td>
                    <td>$20.99</td>
                    <td><input type="text" id="qtySold1" readonly></td>
                    <td><input type="text" id="total1" readonly></td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>$12.75</td>
                    <td><input type="text" id="qtySold2" readonly></td>
                    <td><input type="text" id="total2" readonly></td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>$9.95</td>
                    <td><input type="text" id="qtySold3" readonly></td>
                    <td><input type="text" id="total3" readonly></td>
                </tr>
                <tr>
                    <td>4</td>
                    <td>$35.89</td>
                    <td><input type="text" id="qtySold4" readonly></td>
                    <td><input type="text" id="total4" readonly></td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="3"><strong>Total Amount Sold</strong></td>
                    <td><input type="text" id="totalAmountSold" readonly></td>
                </tr>
                <tr>
                    <td colspan="3"><strong>Total Weekly Earnings</strong></td>
                    <td><input type="text" id="totalEarnings" readonly></td>
                </tr>
            </tfoot>
        </table>
    </form>
    
    <br>
    <a href="hw3.html">Back to Homework #3</a>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"></script>
    
    <script>
        $(document).ready(function() {
            $("#sellerName").tooltip({
                content: "Please make sure that the salesperson's name is spelled correctly"
            });
        });
        
        const prices = [20.99, 12.75, 9.95, 35.89];
        
        function isValid(value) {
            const num = parseFloat(value);
            return !isNaN(num) && num >= 0;
        }
        
        function formatMoney(amount) {
            return '$' + amount.toFixed(2);
        }
        
        document.getElementById('calculateBtn').onclick = function() {
            let item1 = document.getElementById('item1').value;
            let item2 = document.getElementById('item2').value;
            let item3 = document.getElementById('item3').value;
            let item4 = document.getElementById('item4').value;
            
            if (isValid(item1) && isValid(item2) && isValid(item3) && isValid(item4)) {
                let quantities = [parseFloat(item1) || 0, parseFloat(item2) || 0, parseFloat(item3) || 0, parseFloat(item4) || 0];
                let totalAmountSold = 0;
                
                for (let i = 0; i < quantities.length; i++) {
                    let quantity = quantities[i];
                    let price = prices[i];
                    let total = quantity * price;
                    
                    document.getElementById(`qtySold${i + 1}`).value = quantity;
                    
                    document.getElementById(`total${i + 1}`).value = formatMoney(total);
                    
                    totalAmountSold += total;
                }
                
                document.getElementById('totalAmountSold').value = formatMoney(totalAmountSold);
                
                let commission = totalAmountSold * 0.09;
                let totalEarnings = 250 + commission;
                
                document.getElementById('totalEarnings').value = formatMoney(totalEarnings);
            }
            else {
                alert('Error: Please enter valid numbers (0 or greater) for all quantities.');
                return;
            }
        };
        
        document.getElementById('clearBtn').onclick = function() {
            document.getElementById('sellerName').value = '';
            document.getElementById('item1').value = '';
            document.getElementById('item2').value = '';
            document.getElementById('item3').value = '';
            document.getElementById('item4').value = '';
            document.getElementById('qtySold1').value = '';
            document.getElementById('qtySold2').value = '';
            document.getElementById('qtySold3').value = '';
            document.getElementById('qtySold4').value = '';
            document.getElementById('total1').value = '';
            document.getElementById('total2').value = '';
            document.getElementById('total3').value = '';
            document.getElementById('total4').value = '';
            document.getElementById('totalAmountSold').value = '';
            document.getElementById('totalEarnings').value = '';
        };
    </script>
</body>
</html>
